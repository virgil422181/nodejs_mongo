/*!
 * eMAG Apps UI KIT v1.0.0 * Copyright 2001-2018 eMAG HX Team
 * Licensed under the ISC license
 */
function initPhotonStick(a){function b(){$(".stick-with-no-parent").each(function(){d(this)})}function c(a){return a.outerHeight()+n}function d(a){var b=e(a);$(a).find(k).each(function(){var a=this.minPosibleIndex;$(this).css({"z-index":a+b})})}function e(a){var b=0;return $(a).find("input, div, select, ul").not(k).each(function(){var a=parseInt($(this).css("zIndex"),10);a>b&&(b=a)}),b}function f(a){$stickElement=$(a),a.posTop?$stickElement.stick_in_parent({offset_top:m+a.posTop-parseInt($stickElement.css("marginTop")),recalc_every:o}):($stickElement.parent().addClass("stick-with-no-parent"),$stickElement.stick_in_parent({offset_top:m-parseInt($stickElement.css("marginTop")),recalc_every:o}))}function g(a,b){var c=b+1;a.minPosibleIndex=c}function h(a,b){$(a).is(b)||(a.posTop?a.posTop+=b.outerHeight():a.posTop=b.outerHeight())}function i(a){$(document.body).off("click",".stick-with-no-parent"),$.each(a,function(){this.posTop=null,this.minPosibleIndex=null,$this=$(this),$this.trigger("sticky_kit:detach"),$this.parent().removeClass("stick-with-no-parent")})}var j=$(a||"body"),k=".stick",l=j.find(k),m=$(".navbar-fixed-top").outerHeight(),n=3,o=50;i(l),$.each(l,function(){var a=$(this),b=a.parents(),d=!1;if($.each(b,function(){if("none"==$(this).css("display"))return void(d=!0)}),!d){a.parent().css({"min-height":c(a)});var e=a.parent().find(k);e.each(function(){h(this,a)}),$(e.get().reverse()).each(function(a){g(this,a)}),f(this)}}),b(),$(document.body).on("click",".stick-with-no-parent",function(){d(this)}),$(window).off("scroll",b),$(window).on("scroll",b)}(function(){var a,b;a=this.jQuery||window.jQuery,b=a(window),a.fn.stick_in_parent=function(c){var d,e,f,g,h,i,j,k,l,m,n,o;for(null==c&&(c={}),o=c.sticky_class,i=c.inner_scrolling,n=c.recalc_every,m=c.parent,l=c.offset_top,k=c.spacer,f=c.bottoming,null==l&&(l=0),null==m&&(m=void 0),null==i&&(i=!0),null==o&&(o="is_stuck"),d=a(document),null==f&&(f=!0),g=function(c,e,g,h,j,p,q,r){var s,t,u,v,w,x,y,z,A,B,C,D;if(!c.data("sticky_kit")){if(c.data("sticky_kit",!0),w=d.height(),y=c.parent(),null!=m&&(y=y.closest(m)),!y.length)throw"failed to find stick parent";if(u=!1,s=!1,C=null!=k?k&&c.closest(k):a("<div />"),C&&C.css("position",c.css("position")),z=function(){var a,b,f;if(!r)return w=d.height(),a=parseInt(y.css("border-top-width"),10),b=parseInt(y.css("padding-top"),10),e=parseInt(y.css("padding-bottom"),10),g=y.offset().top+a+b,h=y.height(),u&&(u=!1,s=!1,null==k&&(c.insertAfter(C),C.detach()),c.css({position:"",top:"",width:"",bottom:""}).removeClass(o),f=!0),j=c.offset().top-(parseInt(c.css("margin-top"),10)||0)-l,p=c.outerHeight(!0),q=c.css("float"),C&&C.css({width:c.outerWidth(!0),height:p,display:c.css("display"),"vertical-align":c.css("vertical-align"),"float":q}),f?D():void 0},z(),p!==h)return v=void 0,x=l,B=n,D=function(){var a,m,t,A,D,E;if(!r)return t=!1,null!=B&&(B-=1,B<=0&&(B=n,z(),t=!0)),t||d.height()===w||(z(),t=!0),A=b.scrollTop(),null!=v&&(m=A-v),v=A,u?(f&&(D=A+p+x>h+g,s&&!D&&(s=!1,c.css({position:"fixed",bottom:"",top:x}).trigger("sticky_kit:unbottom"))),A<j&&(u=!1,x=l,null==k&&("left"!==q&&"right"!==q||c.insertAfter(C),C.detach()),a={position:"",width:"",top:""},c.css(a).removeClass(o).trigger("sticky_kit:unstick")),i&&(E=b.height(),p+l>E&&(s||(x-=m,x=Math.max(E-p,x),x=Math.min(l,x),u&&c.css({top:x+"px"}))))):A>j&&(u=!0,a={position:"fixed",top:x},a.width="border-box"===c.css("box-sizing")?c.outerWidth()+"px":c.width()+"px",c.css(a).addClass(o),null==k&&(c.after(C),"left"!==q&&"right"!==q||C.append(c)),c.trigger("sticky_kit:stick")),u&&f&&(null==D&&(D=A+p+x>h+g),!s&&D)?(s=!0,"static"===y.css("position")&&y.css({position:"relative"}),c.css({position:"absolute",bottom:e,top:"auto"}).trigger("sticky_kit:bottom")):void 0},A=function(){return z(),D()},t=function(){if(r=!0,b.off("touchmove",D),b.off("scroll",D),b.off("resize",A),a(document.body).off("sticky_kit:recalc",A),c.off("sticky_kit:detach",t),c.removeData("sticky_kit"),c.css({position:"",bottom:"",top:"",width:""}),y.position("position",""),u)return null==k&&("left"!==q&&"right"!==q||c.insertAfter(C),C.remove()),c.removeClass(o)},b.on("touchmove",D),b.on("scroll",D),b.on("resize",A),a(document.body).on("sticky_kit:recalc",A),c.on("sticky_kit:detach",t),setTimeout(D,0)}},h=0,j=this.length;h<j;h++)e=this[h],g(a(e));return this}}).call(this),$(window).on("minimize.photon.sidebar maximize.photon.sidebar hidden.bs.collapse hidden.bs.tab shown.bs.collapse shown.bs.tab show.bs.tab show.bs.collapse resize",function(){setTimeout(function(){$(document.body).trigger("sticky_kit:recalc")},0)}),$(document.body).on("click",".tool",function(a){$.each($(a.target).closest(".panel").find(".ui-jqgrid-hdiv"),function(a,b){var c=$(this);setTimeout(function(){var a=c.parent().find(".ui-jqgrid-bdiv");c.scrollLeft(a.scrollLeft())},100)})});